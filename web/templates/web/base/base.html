{% load static %}
{% load site_tags %}
{% load capture_tags %}
{% load setting_tags %}

{% settings_value "GIT_COMMIT" as GIT_COMMIT %}

{% capture as meta_title silent %}{% block title %}{% endblock %}{% endcapture %}
{% capture as meta_description silent %}{% block description %}{% endblock %}{% endcapture %}
{% capture as meta_keywords silent %}{% block keywords %}{% endblock %}{% endcapture %}
{% capture as image silent %}{% block image %}{% endblock %}{% endcapture %}

<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>{{ meta_title.strip }} | GetPet</title>
    {% if meta_description.strip %}
        <meta name="description" content="{{ meta_description.strip }}">
    {% endif %}
    {% if meta_keywords.strip %}
        <meta name="keywords" content="{{ meta_keywords.strip }}">
    {% endif %}

    <!-- Styles -->
    <link href="{% static 'web/css/page.min.css' %}?v={{ GIT_COMMIT }}" rel="stylesheet">

    <!-- OG -->
    <meta name="og:title" content="{{ meta_title.strip }}">
    <meta name="og:site_name" content="GetPet">
    <meta name="og:description" content="{{ meta_description.strip }}">
    {% if image %}
        <meta name="og:image" content="{{ image.strip }}">
    {% else %}
        <meta name="og:image" content="{% static_full 'web/img/logo/getpet-logo-square-big.png' %}">
    {% endif %}
    <meta name="og:type" content="website">
    <meta name="og:locale" content="lt_LT">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="{% static 'web/img/favicon/apple-touch-icon.png' %}">
    <link rel="icon" href="{% static 'web/img/favicon/favicon.ico' %}">

    {% block head %}{% endblock %}

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TBCJE5549D"></script>
    {% comment %}<!-- @formatter:off -->{% endcomment %}
    <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TBCJE5549D");</script>
    {% comment %}<!-- @formatter:on -->{% endcomment %}
</head>

<body>
{% block extra_body_start %}
{% endblock %}

{% block topbar %}
{% endblock %}

{% block main_container %}
{% endblock %}

<!-- Scripts -->
<!-- IE-11 Support -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.10.4/polyfill.min.js"
        integrity="sha512-pgx+g4+yrNG/DhUEosN7ontsnk2WayfSuK1Fmy2GrqNi8ktUpIlTpKj80dCLyoEELA6c6m5otWP9RM/lq5UTQg==" crossorigin="anonymous"></script>
<script src="{% static 'web/js/page.min.js' %}?v={{ GIT_COMMIT }}"></script>

{% block script %}{% endblock %}
</body>
</html>